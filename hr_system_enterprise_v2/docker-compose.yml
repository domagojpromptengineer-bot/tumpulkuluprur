version: '3.8'
services:
  # Glavna HR Aplikacija (Modularizirani Streamlit)
  hr-app:
    build: .
    ports:
      - "8501:8501"
    volumes:
      - ./hr_demo_data:/app/hr_demo_data
    environment:
      - APP_ENV=production

  # Microservice: Compliance (Legal Engine)
  compliance-service:
    build: ./services/compliance
    ports:
      - "8001:8000"

  # Microservice: Scheduling (ILP Solver)
  scheduling-service:
    build: ./services/scheduling
    ports:
      - "8002:8000"